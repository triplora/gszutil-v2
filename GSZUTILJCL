//* Copyright 2019 Google Inc. All Rights Reserved.
//*
//* Licensed under the Apache License, Version 2.0 (the "License");
//* you may not use this file except in compliance with the License.
//* You may obtain a copy of the License at
//*
//*     http://www.apache.org/licenses/LICENSE-2.0
//*
//* Unless required by applicable law or agreed to in writing, software
//* distributed under the License is distributed on an "AS IS" BASIS,
//* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//* See the License for the specific language governing permissions and
//* limitations under the License.
//*******************************************************************
//JAVA EXEC PROC=JVMPRC86,
//          JAVACLS='com.google.cloud.gszutil.GSZUtil'
//INFILE DD DISP=SHR,
//          DSNAME=LIB.NAME.INFILE,
//          DCB=(BUFNO=32,DSORG=PS)
//KEYFILE DD DISP=SHR,DSNAME=LIB.NAME.KEYFILE
//COPYBOOK DD DISP=SHR,DSNAME=LIB.NAME.COPYBOOK
//STDENV DD *,SYMBOLS=

. /etc/profile
BUCKET=""
OUTPATH=""
APP_JAR="/path/to/GSZUtil.jar"
DEP_JAR="/path/to/GSZUtil.dep.jar"
ARGS="cp gs://$BUCKET/OUTPATH"
export JZOS_MAIN_ARGS="$ARGS"

export JAVA_HOME="/usr/lpp/java/J8.0_64"
export PATH="/bin:${JAVA_HOME}/bin:"
export JOBNAME=&JOBNAME
export JOBDATE=&YYMMDD
export JOBTIME=&HHMMSS

LIBPATH="/lib:/usr/lib:${JAVA_HOME}/bin"
LIBPATH="$LIBPATH:${JAVA_HOME}/lib/s390x"
LIBPATH="$LIBPATH:${JAVA_HOME}/lib/s390x/j9vm"
LIBPATH="$LIBPATH:${JAVA_HOME}/bin/classic:"
export LIBPATH

CLASSPATH="$APP_JAR:$DEP_JAR"
CLASSPATH="$CLASSPATH:${JAVA_HOME}/lib"
CLASSPATH="$CLASSPATH:${JAVA_HOME}/lib/ext"
export CLASSPATH

IJO="-Xms1500m -Xmx1500m"
IJO="$IJO -Xcompressedrefs"
IJO="$IJO -Djava.net.preferIPv4Stack=true"
export IBM_JAVA_OPTIONS="$IJO"

//
